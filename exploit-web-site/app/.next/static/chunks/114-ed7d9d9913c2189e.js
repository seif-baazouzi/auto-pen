(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[114],{4888:function(n,t,e){"use strict";var r=e(5893),a=e(3758);t.Z=function(n){var t=n.children;return(0,r.jsx)(a.E.div,{initial:"initial",animate:"animate",transition:{delay:.2},variants:{initial:{opacity:0},animate:{opacity:1}},children:t},"page")}},8019:function(n,t,e){"use strict";e.d(t,{Z:function(){return l}});var r=e(5893),a=e(1163),i=e(7294),o=e(7911),c=e.n(o),s=e(1598);function l(){var n=(0,a.useRouter)(),t=(0,i.useState)(!0),e=t[0],o=t[1],l=function(n,t){n.preventDefault(),o(!0),a.default.push(t)};return(0,r.jsx)("nav",{className:c().nav,children:(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsxs)("a",{onClick:function(n){return l(n,"/")},className:c().logo,children:["AutoPen",(0,r.jsx)("span",{className:c().pipe,children:"|"}),(0,r.jsx)("span",{className:c().word,children:"exploit"})]}),(0,r.jsxs)("ul",{className:e?c().hide:"",children:[[{path:"/",desc:"Home"},{path:"/running-scans",desc:"Running Scans"}].map((function(t){var e=t.path,a=t.desc;return(0,r.jsx)("li",{children:(0,r.jsx)("a",{onClick:function(n){return l(n,e)},className:"".concat(n.pathname==e?c().active:""),children:a})},e)})),(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:c().btn,onClick:function(n){n.preventDefault(),(0,s.j)(),a.default.push("/login")},children:"Logout"})})]}),(0,r.jsxs)("div",{className:"".concat(c().burger," ").concat(e?"":"x"),onClick:function(){return o((function(n){return!n}))},children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})]})})}},3114:function(n,t,e){"use strict";e.d(t,{Z:function(){return P}});var r=e(4051),a=e.n(r),i=e(5893),o=e(1163),c=e(7294),s=e(5064),l=e(1598),u=e(1121),f=e(7869),d=e.n(f);function h(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function v(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,a,i=[],o=!0,c=!1;try{for(e=e.call(n);!(o=(r=e.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){c=!0,a=s}finally{try{o||null==e.return||e.return()}finally{if(c)throw a}}return i}}(n,t)||function(n,t){if(!n)return;if("string"===typeof n)return h(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return h(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(n){var t=n.children,e=v(n.showState,2),r=e[0],a=e[1];return r?(0,i.jsxs)("div",{className:d().container,children:[(0,i.jsx)("div",{className:d().close,onClick:function(){return a(!1)},children:"\u2716"}),(0,i.jsx)("div",{className:d().box,children:t})]}):null}function x(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function m(n,t,e,r,a,i,o){try{var c=n[i](o),s=c.value}catch(l){return void e(l)}c.done?t(s):Promise.resolve(s).then(r,a)}function y(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,a,i=[],o=!0,c=!1;try{for(e=e.call(n);!(o=(r=e.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){c=!0,a=s}finally{try{o||null==e.return||e.return()}finally{if(c)throw a}}return i}}(n,t)||function(n,t){if(!n)return;if("string"===typeof n)return x(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return x(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(n){var t=n.showState,e=(0,o.useRouter)(),r=(0,c.useState)("http://172.17.0.1:8080/"),f=r[0],d=r[1],h=(0,c.useState)(""),v=h[0],x=h[1],j=(0,c.useState)(""),b=j[0],_=j[1],S=function(){var n,r=(n=a().mark((function n(r){var i,o,c,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),i=(0,l.B)(document.cookie).token,n.next=4,s.Z.post("/api/v1/scans",{token:i},{url:f,cookies:b});case 4:"success"===(o=n.sent).message?((c=y(t,2))[0],u=c[1],e.replace(e.asPath),u(!1)):x(o.url);case 6:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(n){m(i,r,a,o,c,"next",n)}function c(n){m(i,r,a,o,c,"throw",n)}o(void 0)}))});return function(n){return r.apply(this,arguments)}}();return(0,i.jsxs)(p,{showState:t,children:[(0,i.jsx)("h1",{children:"Add a new scan"}),(0,i.jsxs)("form",{onSubmit:S,children:[(0,i.jsx)(u.Z,{label:"Url",type:"text",error:v,state:[f,d]}),(0,i.jsx)(u.Z,{label:"Cookies",type:"text",error:null,state:[b,_]}),(0,i.jsx)("button",{children:"Start scan"})]})]})}var b=e(8019),_=e(1664),S=e(8099),w=e.n(S);function g(n){var t=n.id,e=n.deleteScan,r=n.showState;return(0,i.jsxs)(p,{showState:r,children:[(0,i.jsxs)("h4",{children:["Are you sure you want to delete the scan with the id ",t]}),(0,i.jsxs)("div",{className:"flex buttons-flex",children:[(0,i.jsx)("button",{onClick:function(){return r[1](!1)},className:"float cancel",children:"Cancel"}),(0,i.jsx)("button",{onClick:function(){e(t),r[1](!1)},className:"float delete",children:"Delete"})]})]})}function N(){return(0,i.jsxs)("svg",{width:"24",viewBox:"0 0 24 24",stroke:"var(--red)",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,i.jsx)("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),(0,i.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,i.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),(0,i.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),(0,i.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})}function k(n){var t=n.scans,e=n.deleteScan,r=(0,c.useState)(),a=r[0],o=r[1],s=(0,c.useState)(!1),l=s[0],u=s[1];return(0,i.jsxs)("div",{className:w().table,children:[(0,i.jsx)("table",{children:(0,i.jsx)("tbody",{children:t.map((function(n){var t=n.id,e=n.url;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)(_.default,{href:"/scans/".concat(t),prefetch:!0,children:t})}),(0,i.jsx)("td",{children:e}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{className:"flex",onClick:function(){o(t),u(!0)},children:(0,i.jsx)(N,{size:"1rem",color:"var(--error)"})})})]},t)}))})}),(0,i.jsx)(g,{id:a,deleteScan:e,showState:[l,u]})]})}var A=e(4888);function C(n,t,e,r,a,i,o){try{var c=n[i](o),s=c.value}catch(l){return void e(l)}c.done?t(s):Promise.resolve(s).then(r,a)}function I(n){return function(){var t=this,e=arguments;return new Promise((function(r,a){var i=n.apply(t,e);function o(n){C(i,r,a,o,c,"next",n)}function c(n){C(i,r,a,o,c,"throw",n)}o(void 0)}))}}function P(n){var t=n.scans,e=n.running,r=(0,o.useRouter)(),u=(0,c.useState)(!1),f=u[0],d=u[1],h=function(){var n=I(a().mark((function n(t){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,l.B)(document.cookie).token,n.next=3,s.Z.del("/api/v1/scans/".concat(t),{token:e});case 3:r.replace(r.asPath);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,c.useEffect)((function(){var n=setInterval((function(){return r.replace(r.asPath)}),1e4);return function(){return clearInterval(n)}}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.Z,{}),(0,i.jsxs)(A.Z,{children:[(0,i.jsx)("div",{className:"container ".concat(0===t.length?"center":""),children:t.length?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsxs)("h2",{style:{flex:2},children:[e&&"Running"," Scans list"]}),(0,i.jsx)("button",{className:"float",onClick:function(){return d(!0)},children:"add scan"})]}),(0,i.jsx)(k,{scans:t,deleteScan:h})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"msg",children:e?"All Done!":"There is no scans yet!"}),(0,i.jsx)("button",{className:"float",onClick:function(){return d(!0)},children:"add scan"})]})}),(0,i.jsx)(j,{showState:[f,d]})]})]})}},1598:function(n,t,e){"use strict";function r(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function a(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,a,i=[],o=!0,c=!1;try{for(e=e.call(n);!(o=(r=e.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){c=!0,a=s}finally{try{o||null==e.return||e.return()}finally{if(c)throw a}}return i}}(n,t)||function(n,t){if(!n)return;if("string"===typeof n)return r(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return r(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(n){var t={};return null===n||void 0===n||n.split(";").map((function(n){var e=a(n.split("="),2),r=e[0],i=e[1];t[r.trim()]=null===i||void 0===i?void 0:i.trim()})),t}function o(){document.cookie.split(";").forEach((function(n){document.cookie=n.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")}))}e.d(t,{B:function(){return i},j:function(){return o}})},7911:function(n){n.exports={nav:"Nav_nav__Bx_p6",container:"Nav_container__JsliS",logo:"Nav_logo__QK0N1",pipe:"Nav_pipe__VTLZt",word:"Nav_word__cc3oR",active:"Nav_active__T4AXM",btn:"Nav_btn__lwsx4",burger:"Nav_burger__fj7uN",x:"Nav_x__4krqQ",hide:"Nav_hide__99ZKK"}},7869:function(n){n.exports={container:"PopUp_container__IRtKd",close:"PopUp_close__86yD1",box:"PopUp_box__AlkfF"}},8099:function(n){n.exports={table:"ScansList_table__ulSkh"}}}]);