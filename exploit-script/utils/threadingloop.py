import threading

def threadingLoop(func, itemsList, args, maxThreads=10):
  threads = []
  threadsCount = 0

  for item in itemsList:
    threadArgs = (item, *args)
    t = threading.Thread(target=func, args=threadArgs)
    t.start()
    threads.append(t)

    threadsCount += 1
    if threadsCount == maxThreads:
      for t in threads: t.join()
      threads = []
      threadsCount = 0
  
  if len(threads) != 0:
    for t in threads: t.join()
